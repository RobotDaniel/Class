- [ ] put lines `37` to `58` in a function